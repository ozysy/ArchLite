{"ast":null,"code":"import _slicedToArray from\"C:/Users/Porhc/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/oil/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useRef}from'react';import'../styles/projects.css';import image from'../img/slide1.png';import image2 from'../img/slide2.png';import image3 from'../img/slide3.png';import image4 from'../img/slide4.png';import image5 from'../img/slide5.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Carousel=function Carousel(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDragging=_useState2[0],setIsDragging=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),startX=_useState4[0],setStartX=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),startScrollLeft=_useState6[0],setStartScrollLeft=_useState6[1];var carouselRef=useRef(null);var autoScrollIntervalRef=useRef(null);useEffect(function(){var carousel=carouselRef.current;var firstCardWidth=carousel.querySelector('.card').offsetWidth;var cards=carousel.querySelectorAll('.card');// Clone first and last few cards to create infinite loop illusion\nvar firstFewCards=Array.from(cards).slice(0,3);var lastFewCards=Array.from(cards).slice(-3);lastFewCards.forEach(function(card){carousel.insertAdjacentHTML('afterbegin',card.outerHTML);});firstFewCards.forEach(function(card){carousel.insertAdjacentHTML('beforeend',card.outerHTML);});var startAutoScroll=function startAutoScroll(){if(autoScrollIntervalRef.current)clearInterval(autoScrollIntervalRef.current);autoScrollIntervalRef.current=setInterval(function(){if(!isDragging){carousel.scrollLeft+=firstCardWidth;}},5000);// Change slide every 3 seconds\n};startAutoScroll();var dragStart=function dragStart(e){setIsDragging(true);setStartX(e.pageX||e.touches[0].pageX);setStartScrollLeft(carousel.scrollLeft);if(autoScrollIntervalRef.current)clearInterval(autoScrollIntervalRef.current);// Stop auto scroll while dragging\n};var dragging=function dragging(e){if(!isDragging)return;var x=e.pageX||e.touches[0].pageX;carousel.scrollLeft=startScrollLeft-(x-startX);};var dragStop=function dragStop(){setIsDragging(false);startAutoScroll();// Restart auto scroll after dragging\n};var infiniteScroll=function infiniteScroll(){if(carousel.scrollLeft===0){carousel.classList.add(\"no-transition\");carousel.scrollLeft=carousel.scrollWidth-2*carousel.offsetWidth;carousel.classList.remove(\"no-transition\");}else if(Math.ceil(carousel.scrollLeft)===carousel.scrollWidth-carousel.offsetWidth){carousel.classList.add(\"no-transition\");carousel.scrollLeft=carousel.offsetWidth;carousel.classList.remove(\"no-transition\");}};carousel.addEventListener('mousedown',dragStart);carousel.addEventListener('mousemove',dragging);document.addEventListener('mouseup',dragStop);carousel.addEventListener('touchstart',dragStart);carousel.addEventListener('touchmove',dragging);document.addEventListener('touchend',dragStop);carousel.addEventListener('scroll',infiniteScroll);return function(){carousel.removeEventListener('mousedown',dragStart);carousel.removeEventListener('mousemove',dragging);document.removeEventListener('mouseup',dragStop);carousel.removeEventListener('touchstart',dragStart);carousel.removeEventListener('touchmove',dragging);document.removeEventListener('touchend',dragStop);carousel.removeEventListener('scroll',infiniteScroll);if(autoScrollIntervalRef.current)clearInterval(autoScrollIntervalRef.current);};},[isDragging]);return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"i\",{id:\"left\",className:\"fa-solid fa-angle-left\",onClick:function onClick(){return carouselRef.current.scrollLeft-=carouselRef.current.querySelector('.card').offsetWidth;}}),/*#__PURE__*/_jsxs(\"ul\",{className:\"carousel\",ref:carouselRef,children:[/*#__PURE__*/_jsx(\"li\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"img\",children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"slide1\",className:\"slide1\",draggable:\"false\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"img\",children:/*#__PURE__*/_jsx(\"img\",{src:image2,alt:\"slide2\",className:\"slide2\",draggable:\"false\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"img\",children:/*#__PURE__*/_jsx(\"img\",{src:image3,alt:\"slide3\",className:\"slide3\",draggable:\"false\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"img\",children:/*#__PURE__*/_jsx(\"img\",{src:image4,alt:\"slide4\",className:\"slide4\",draggable:\"false\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"img\",children:/*#__PURE__*/_jsx(\"img\",{src:image5,alt:\"slide5\",className:\"slide5\",draggable:\"false\"})})})]}),/*#__PURE__*/_jsx(\"i\",{id:\"right\",className:\"fa-solid fa-angle-right\",onClick:function onClick(){return carouselRef.current.scrollLeft+=carouselRef.current.querySelector('.card').offsetWidth;}})]});};export default Carousel;","map":{"version":3,"names":["React","useEffect","useState","useRef","image","image2","image3","image4","image5","Carousel","isDragging","setIsDragging","startX","setStartX","startScrollLeft","setStartScrollLeft","carouselRef","autoScrollIntervalRef","carousel","current","firstCardWidth","querySelector","offsetWidth","cards","querySelectorAll","firstFewCards","Array","from","slice","lastFewCards","forEach","card","insertAdjacentHTML","outerHTML","startAutoScroll","clearInterval","setInterval","scrollLeft","dragStart","e","pageX","touches","dragging","x","dragStop","infiniteScroll","classList","add","scrollWidth","remove","Math","ceil","addEventListener","document","removeEventListener"],"sources":["C:/Users/Porhc/OneDrive/Рабочий стол/oil/client/src/components/Carousel.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport '../styles/projects.css';\r\nimport image from '../img/slide1.png';\r\nimport image2 from '../img/slide2.png';\r\nimport image3 from '../img/slide3.png';\r\nimport image4 from '../img/slide4.png';\r\nimport image5 from '../img/slide5.png';\r\n\r\nconst Carousel = () => {\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [startX, setStartX] = useState(0);\r\n    const [startScrollLeft, setStartScrollLeft] = useState(0);\r\n    const carouselRef = useRef(null);\r\n    const autoScrollIntervalRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const carousel = carouselRef.current;\r\n        const firstCardWidth = carousel.querySelector('.card').offsetWidth;\r\n        const cards = carousel.querySelectorAll('.card');\r\n\r\n        // Clone first and last few cards to create infinite loop illusion\r\n        const firstFewCards = Array.from(cards).slice(0, 3);\r\n        const lastFewCards = Array.from(cards).slice(-3);\r\n\r\n        lastFewCards.forEach(card => {\r\n            carousel.insertAdjacentHTML('afterbegin', card.outerHTML);\r\n        });\r\n\r\n        firstFewCards.forEach(card => {\r\n            carousel.insertAdjacentHTML('beforeend', card.outerHTML);\r\n        });\r\n\r\n        const startAutoScroll = () => {\r\n            if (autoScrollIntervalRef.current) clearInterval(autoScrollIntervalRef.current);\r\n            autoScrollIntervalRef.current = setInterval(() => {\r\n                if (!isDragging) {\r\n                    carousel.scrollLeft += firstCardWidth;\r\n                }\r\n            }, 5000); // Change slide every 3 seconds\r\n        };\r\n\r\n        startAutoScroll();\r\n\r\n        const dragStart = (e) => {\r\n            setIsDragging(true);\r\n            setStartX(e.pageX || e.touches[0].pageX);\r\n            setStartScrollLeft(carousel.scrollLeft);\r\n            if (autoScrollIntervalRef.current) clearInterval(autoScrollIntervalRef.current); // Stop auto scroll while dragging\r\n        };\r\n\r\n        const dragging = (e) => {\r\n            if (!isDragging) return;\r\n            const x = e.pageX || e.touches[0].pageX;\r\n            carousel.scrollLeft = startScrollLeft - (x - startX);\r\n        };\r\n\r\n        const dragStop = () => {\r\n            setIsDragging(false);\r\n            startAutoScroll(); // Restart auto scroll after dragging\r\n        };\r\n\r\n        const infiniteScroll = () => {\r\n            if (carousel.scrollLeft === 0) {\r\n                carousel.classList.add(\"no-transition\");\r\n                carousel.scrollLeft = carousel.scrollWidth - (2 * carousel.offsetWidth);\r\n                carousel.classList.remove(\"no-transition\");\r\n            } else if (Math.ceil(carousel.scrollLeft) === carousel.scrollWidth - carousel.offsetWidth) {\r\n                carousel.classList.add(\"no-transition\");\r\n                carousel.scrollLeft = carousel.offsetWidth;\r\n                carousel.classList.remove(\"no-transition\");\r\n            }\r\n        };\r\n\r\n        carousel.addEventListener('mousedown', dragStart);\r\n        carousel.addEventListener('mousemove', dragging);\r\n        document.addEventListener('mouseup', dragStop);\r\n        carousel.addEventListener('touchstart', dragStart);\r\n        carousel.addEventListener('touchmove', dragging);\r\n        document.addEventListener('touchend', dragStop);\r\n        carousel.addEventListener('scroll', infiniteScroll);\r\n\r\n        return () => {\r\n            carousel.removeEventListener('mousedown', dragStart);\r\n            carousel.removeEventListener('mousemove', dragging);\r\n            document.removeEventListener('mouseup', dragStop);\r\n            carousel.removeEventListener('touchstart', dragStart);\r\n            carousel.removeEventListener('touchmove', dragging);\r\n            document.removeEventListener('touchend', dragStop);\r\n            carousel.removeEventListener('scroll', infiniteScroll);\r\n            if (autoScrollIntervalRef.current) clearInterval(autoScrollIntervalRef.current);\r\n        };\r\n    }, [isDragging]);\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <i id=\"left\" className=\"fa-solid fa-angle-left\" onClick={() => (carouselRef.current.scrollLeft -= carouselRef.current.querySelector('.card').offsetWidth)}></i>\r\n            <ul className=\"carousel\" ref={carouselRef}>\r\n                <li className=\"card\">\r\n                    <div className=\"img\"><img src={image} alt=\"slide1\" className=\"slide1\" draggable=\"false\" /></div>\r\n                </li>\r\n                <li className=\"card\">\r\n                    <div className=\"img\"><img src={image2} alt=\"slide2\" className=\"slide2\" draggable=\"false\" /></div>\r\n                </li>\r\n                <li className=\"card\">\r\n                    <div className=\"img\"><img src={image3} alt=\"slide3\" className=\"slide3\" draggable=\"false\" /></div>\r\n                </li>\r\n                <li className=\"card\">\r\n                    <div className=\"img\"><img src={image4} alt=\"slide4\" className=\"slide4\" draggable=\"false\" /></div>\r\n                </li>\r\n                <li className=\"card\">\r\n                    <div className=\"img\"><img src={image5} alt=\"slide5\" className=\"slide5\" draggable=\"false\" /></div>\r\n                </li>\r\n            </ul>\r\n            <i id=\"right\" className=\"fa-solid fa-angle-right\" onClick={() => (carouselRef.current.scrollLeft += carouselRef.current.querySelector('.card').offsetWidth)}></i>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Carousel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}