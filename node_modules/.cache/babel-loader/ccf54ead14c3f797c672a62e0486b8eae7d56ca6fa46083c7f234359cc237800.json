{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import avatar from'../assets/User.png';import toast,{Toaster}from'react-hot-toast';import{useFormik}from'formik';import{registerValidation}from'../helper/validate';import convertToBase64 from'../helper/convert';import{registerUser}from'../helper/helper';import styles from'../styles/UserName.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){const navigate=useNavigate();const[file,setFile]=useState();const formik=useFormik({initialValues:{email:'artgagarin2@gmail.com',username:'example123',password:'admin@123'},validate:registerValidation,validateOnBlur:false,validateOnChange:false,onSubmit:async values=>{values=await Object.assign(values,{profile:file||''});// console.log(values)\nlet registerPromise=registerUser(values);toast.promise(registerPromise,{loading:'Создание...',success:/*#__PURE__*/_jsx(\"b\",{children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u0430 \"}),error:/*#__PURE__*/_jsx(\"b\",{children:\"\\u0412\\u044B \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043B\\u0438\\u0441\\u044C \"})});registerPromise.then(function(){navigate('/Username');});}});// не поддержтвается файл\nconst onUpload=async e=>{const base64=await convertToBase64(e.target.files[0]);setFile(base64);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.glass,style:{width:\"45%\",passingTop:'3em'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-5xl fotn-bold\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-center text-gray-500\",children:\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C.\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"py-1\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile flex justify-center py-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"profile\",children:/*#__PURE__*/_jsx(\"img\",{src:file||avatar,className:styles.profile_img,alt:\"avatar\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:onUpload,type:\"file\",id:\"profile\",name:\"profile\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps('email'),className:styles.textbox,type:\"text\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps('username'),className:styles.textbox,type:\"text\",placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps('password'),className:styles.textbox,type:\"text\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:\"submit\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043B\\u0438\\u0441\\u044C? \",/*#__PURE__*/_jsx(Link,{className:\"text-red-500\",to:\"/Username\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})})]})]})})]});}","map":{"version":3,"names":["React","useState","Link","useNavigate","avatar","toast","Toaster","useFormik","registerValidation","convertToBase64","registerUser","styles","jsx","_jsx","jsxs","_jsxs","Register","navigate","file","setFile","formik","initialValues","email","username","password","validate","validateOnBlur","validateOnChange","onSubmit","values","Object","assign","profile","registerPromise","promise","loading","success","children","error","then","onUpload","e","base64","target","files","className","position","reverseOrder","glass","style","width","passingTop","handleSubmit","htmlFor","src","profile_img","alt","onChange","type","id","name","getFieldProps","textbox","placeholder","btn","to"],"sources":["C:/Users/Porhc/OneDrive/Рабочий стол/oil/client/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport avatar from '../assets/User.png';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport { useFormik } from 'formik';\r\nimport{ registerValidation } from '../helper/validate';\r\nimport convertToBase64 from '../helper/convert';\r\nimport { registerUser } from '../helper/helper'\r\n\r\n\r\nimport styles from '../styles/UserName.module.css';\r\n\r\n\r\nexport default function Register() {\r\n\r\n    const navigate = useNavigate()\r\n    const [file, setFile] = useState()\r\n\r\n    const formik = useFormik({\r\n        initialValues : {\r\n            email : 'artgagarin2@gmail.com',\r\n            username: 'example123',\r\n            password : 'admin@123'\r\n        },\r\n        validate : registerValidation,\r\n        validateOnBlur: false,\r\n        validateOnChange: false,\r\n        onSubmit : async values => {\r\n            values = await Object.assign(values, {profile : file || ''})\r\n            // console.log(values)\r\n            let registerPromise = registerUser(values)\r\n            toast.promise(registerPromise, {\r\n                loading: 'Создание...',\r\n                success : <b>Регистрация успешна </b>,\r\n                error : <b>Вы не зарегистрировались </b>\r\n            });\r\n\r\n            registerPromise.then(function(){ navigate('/Username')});\r\n        }\r\n    })\r\n\r\n// не поддержтвается файл\r\n\r\nconst onUpload = async e => {\r\n    const base64 = await convertToBase64(e.target.files[0]);\r\n    setFile(base64);\r\n}\r\n\r\n    return (\r\n        <div className=\"container mx-auto\">\r\n\r\n            <Toaster position='top-center' reverseOrder={false}></Toaster>\r\n\r\n            <div className='flex justify-center items-center h-screen'>\r\n                <div className={styles.glass} style={{width: \"45%\", passingTop: '3em'}}>\r\n                    \r\n                    <div className=\"title flex flex-col items-center\">\r\n                        <h4 className='text-5xl fotn-bold'>Регистрация</h4>\r\n                        <span className='py-4 text-xl w-2/3 text-center text-gray-500'>\r\n                            Добро пожаловать.\r\n                        </span>\r\n                    </div>\r\n\r\n                    <form className='py-1' onSubmit={formik.handleSubmit}>\r\n                    <div className='profile flex justify-center py-4'>\r\n                  <label htmlFor=\"profile\">\r\n                  <img src={file || avatar} className={styles.profile_img} alt=\"avatar\" />\r\n                  </label>\r\n                  \r\n                  <input onChange={onUpload} type=\"file\" id='profile' name='profile' />\r\n              </div>\r\n\r\n                <div className=\"textbox flex flex-col items-center gap-6\">\r\n                  <input {...formik.getFieldProps('email')} className={styles.textbox} type=\"text\" placeholder='Email' />\r\n                  <input {...formik.getFieldProps('username')} className={styles.textbox} type=\"text\" placeholder='Username' />\r\n                  <input {...formik.getFieldProps('password')} className={styles.textbox} type=\"text\" placeholder='Password' />\r\n                  <button className={styles.btn} type='submit'>Зарегистрироваться</button>\r\n              </div>\r\n\r\n                           <div className=\"text-center py-4\">\r\n                            <span className='text-gray-500'>Уже зарегистрировались? <Link className='text-red-500' to='/Username'>Войти</Link></span>\r\n                           </div>\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}